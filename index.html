<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ”¬ Physics Lab Calculator Suite | CBSE Class 12</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”¬ Physics Lab Calculator Suite</h1>
            <p>Complete CBSE Class 12 Experiments | Optics & Electricity | 100cm Optical Bench</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('prism')">Prism Deviation</button>
            <button class="tab-btn" onclick="switchTab('lens-focal')">Lens Focal Length</button>
            <button class="tab-btn" onclick="switchTab('mirror-focal')">Convex Mirror</button>
            <button class="tab-btn" onclick="switchTab('ohms-law')">Ohm's Law</button>
            <button class="tab-btn" onclick="switchTab('resistivity')">Resistivity</button>
            <button class="tab-btn" onclick="switchTab('metre-bridge')">Metre Bridge</button>
            <button class="tab-btn" onclick="switchTab('help')">Help & Formulas</button>
        </div>

        <div class="content-wrapper">
            <!-- All experiment content goes here - modular loading -->
            <div id="content-loading">Loading experiments...</div>
        </div>
    </div>

    <script src="optics.js"></script>
    <script src="electricity.js"></script>
    <script>
        // Main tab switching logic
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            const content = document.getElementById('content-loading');
            content.innerHTML = `<div class="loading">Loading ${tabName}...</div>`;
            
            event.target.classList.add('active');
            
            setTimeout(() => loadExperiment(tabName), 200);
        }

        async function loadExperiment(tabName) {
            const content = document.getElementById('content-loading');
            
            // Load experiment content dynamically
            const experiments = {
                'prism': await fetchExperimentContent('prism'),
                'lens-focal': await fetchExperimentContent('lens'),
                'mirror-focal': await fetchExperimentContent('mirror'),
                'ohms-law': await fetchExperimentContent('ohms'),
                'resistivity': await fetchExperimentContent('resistivity'),
                'metre-bridge': await fetchExperimentContent('metrebridge'),
                'help': await fetchExperimentContent('help')
            };
            
            content.innerHTML = experiments[tabName];
            initializeExperiment(tabName);
        }

        function initializeExperiment(tabName) {
            // Initialize specific experiment scripts
            window[`init_${tabName}`]?.();
        }

        // Placeholder for dynamic content - actual implementation in JS files
        async function fetchExperimentContent(name) {
            // In production, these would be loaded from separate HTML templates
            return `<div class="experiment-placeholder">${name} loaded</div>`;
        }

        // Initialize on load
        window.addEventListener('load', () => switchTab('prism'));
    </script>
</body>
</html>
